import{_ as C,a2 as y,a3 as q,a4 as B,x as A,a5 as L,a6 as S,a7 as D,r as g,o as i,c as u,b as f,B as p,l as s,m as b,a8 as z,u as Z,k as R,F as j,z as N,D as v,Q as H,R as E,S as V,E as w,a as I,G as x,p as O,q as M,a9 as F,T as $}from"./index-6d25b890.js";import{m as T}from"./mermaid-0603ccf8-96522df5.js";import{r as P,H as m,a as Y}from"./handsontable.full-200fca3e.js";import{d as W}from"./vuedraggable.umd-dec9378e.js";import"./_commonjs-dynamic-modules-302442b1.js";const _=(e,t)=>z.filter(e,t);P();const U={props:{table_id:{type:String,required:!0},encoded:{type:String,required:!1},schema:{type:Array,required:!1,default:void 0},script:{type:String,required:!1},columns:{type:Array,required:!1,default:()=>[]},search:{type:String,required:!1,default:""}},data(){return{tables:[],key:0,errors:{},noData:!1,error:{},dataBeforeChanges:[],meta:{page:1,page_size:100,total_entries:0},json:{},showModal:!1,title:"Table Data",tableName:""}},computed:{isBase(){return this.checkIfBase(this.table_id)},hotSettings(){return{data:this.searchResults,colHeaders:this.colHeaders,columns:this.computedColumns,manualColumnMove:[],rowHeights:30,manualColumnResize:!0,manualRowResize:!0,rowHeaders:!0,filters:!0,dropdownMenu:!1,contextMenu:!0,licenseKey:"non-commercial-and-evaluation",width:"100%",height:"auto",stretchH:"all",columnSorting:!0,customBorders:!1,stretchW:"all",autoWrapRow:!0,autoWrapCol:!0,wordWrap:!0,trimRows:!0,className:"handsontable",bindRowsWithHeaders:!0,outsideClickDeselects:!1,minSpareRows:0,minSpareCols:0,hiddenColumns:!0,hiddenRows:!0,maxSpareRows:0,maxSpareCols:0,afterChange:(e,t)=>{if(!(t==="loadData"||t==="internal"||!e)){const l=e[0][0],d=this.hotSettings.data[l];console.log(d);const r=e[0][1],o=e[0][3],a=d.id,c={action:"update",type:"data",body:{id:a,schema:[{key:r,value:o}]}};console.log(c),y(a,c).then(h=>{console.log(h)}),console.log(e)}}}},colHeaders(){return this.dataBeforeChanges===void 0||this.dataBeforeChanges.length===0?[]:Object.keys(this.dataBeforeChanges[0])},searchResults(){if(this.search==="")return this.dataBeforeChanges;{let e=_(this.dataBeforeChanges.map(t=>Object.keys(t).map(l=>t[l]).join("-")),this.search);return this.dataBeforeChanges.filter(t=>e.includes(Object.keys(t).map(l=>t[l]).join("-")))}},computedColumns(){return this.dataBeforeChanges===void 0||this.dataBeforeChanges.length===0?[]:Object.keys(this.dataBeforeChanges[0]).map(e=>e==="selection"?{data:e,type:"checkbox"}:e==="delete"?{data:e,readOnly:!0,renderer:this.deleteRenderer,align:"center",verticalAlignment:"middle",startRow:0,startCol:0}:e==="id"?{data:e,readOnly:!0,renderer:this.idRenderer,align:"center",verticalAlignment:"middle",startRow:0,startCol:0}:e==="inserted_at"||e==="updated_at"||e==="deleted_at"||e==="archived_at"?{data:e,type:"date",readOnly:!0,dateFormat:"YYYY-MM-DD",correctFormat:!0,defaultDate:"1900-01-01",datePickerConfig:{firstDay:1,showWeekNumber:!0,numberOfMonths:1,disableDayFn:function(t){return t.getDay()===0}}}:{data:e,type:"text",renderer:this.objectRenderer,align:"left",verticalAlignment:"middle",startRow:0,startCol:0})},total_pages(){return this.meta.total_pages},page(){return this.meta.page},page_size(){return this.meta.page_size},columnOrder(){return["id",...this.columns.map(e=>e.name)]},filteredRecords(){if(this.search==="")return this.tables;{let e=_(this.tables.map(t=>`${t.name}-${t.id}-${t.parent}`),this.search);return this.tables.filter(t=>e.includes(t.name+"-"+t.id+"-"+t.parent))}},themeIs(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},darkTheme(){return!!window.matchMedia("(prefers-color-scheme: dark)").matches},svg(){return this.graph}},methods:{checkIfBase(e){q(e).then(t=>t.data.base).catch(()=>!1)},deleteTable(e){const l={action:"delete",type:"structure",body:{id:e}};console.log(l),B(l).then(d=>{console.log(d),this.getTableStructure()})},objectRenderer(e,t,l,d,r,o){if(console.log(o),o&&typeof o=="object"){m.dom.empty(t);const a=document.createElement("button");return a.textContent="View...",a.className=" bg-rock-blue-500 hover:bg-rock-blue-700 text-pickled-700 font-bold py-1 px-2 text-xs w-full rounded-full dark:bg-pickled-700 dark:hover:bg-pickled-600 dark:text-rock-blue-600 ",t.appendChild(a),a.addEventListener("click",()=>{this.openJsonModal(o,r)}),t}else o&&typeof o=="string"?m.renderers.TextRenderer.apply(this,arguments):o&&typeof o=="number"?m.renderers.NumericRenderer.apply(this,arguments):o&&typeof o=="boolean"?m.renderers.CheckboxRenderer.apply(this,arguments):m.renderers.TextRenderer.apply(this,arguments)},customRenderer(e,t,l,d,r,o){m.dom.empty(t);const a=document.createElement("button");return a.textContent="View...",a.className="bg-rock-blue-500 hover:bg-rock-blue-700 text-pickled-700 font-bold py-1 px-2 text-xs w-full rounded-full dark:bg-pickled-700 dark:hover:bg-pickled-600 dark:text-rock-blue-600",t.appendChild(a),a.addEventListener("click",()=>{this.openJsonModal(o,r)}),t},idRenderer(e,t,l,d,r,o){m.dom.empty(t);const a=document.createElement("button");return a.textContent=`${o}`,a.className="bg-surf-500 hover:bg-surf-600 text-pickled-600 font-bold py-1 px-4 w-full text-xs rounded-full dark:bg-bali-hai-700 dark:hover:bg-bali-hai-600 dark:text-rock-blue-400",t.appendChild(a),a.addEventListener("click",()=>{this.goToTable(o)}),t},deleteRenderer(e,t,l,d,r,o){m.dom.empty(t);const a=document.createElement("button"),c=document.createElement("svg");return c.setAttribute("class","h-6 w-6 fill-current text-red-500"),c.setAttribute("xmlns","http://www.w3.org/2000/svg"),c.setAttribute("viewBox","0 0 16 16"),c.innerHTML='<path d="M8.707 8l3.647-3.646a.5.5 0 10-.708-.708L8 7.293 4.354 3.646a.5.5 0 00-.708.708L7.293 8l-3.647 3.646a.5.5 0 10.708.708L8 8.707l3.646 3.647a.5.5 0 10.708-.708L8.707 8z"/>',a.appendChild(c),o&&o===!0?(a.textContent="Base Table",a.className="bg-surf-500 hover:bg-surf-600 text-pickled-600 font-bold py-1 px-4 w-full text-xs rounded-full dark:bg-bali-hai-700 dark:hover:bg-bali-hai-600 dark:text-rock-blue-400",a.disabled=!0):(a.textContent="Delete",a.className="bg-surf-500 hover:bg-surf-600 text-pickled-600 font-bold py-1 px-4 w-full text-xs rounded-full dark:bg-bali-hai-700 dark:hover:bg-bali-hai-600 dark:text-rock-blue-400",a.disabled=!1,a.addEventListener("click",()=>{this.deleteTable(o)})),t},openJsonModal(e,t){console.log(e),this.json=e,this.title=t,this.showModal=!0},updateTableData(e,t){y(e,t).then(l=>{console.log(l)})},reorderColumns(e){const t=e,l=[0],d=1,r=this.hotSettings.manualColumnMove.splice(l[0],t.length);return this.hotSettings.manualColumnMove.splice(d,0,...r),this.hotSettings.manualColumnMove},columnId(e){return e==="id"},isNull(e){return e===null},goToRecord(e){this.$router.push({name:"Record",params:{id:e}})},startsWithPbkdf2(e){return typeof e=="string"&&e.startsWith("$pbkdf2")},isTimestamp(e){return/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|(\+\d{2}:\d{2}))$/.test(e)},isUUID(e){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[14][0-9a-fA-F]{3}-[89ab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(e)},isObject(e){return typeof e=="object"&&e!==null},copyToClipboard(e){const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),A().$patch({message:"Copied to clipboard"}),this.showCopy=!1,this.tooltip.id=""},onToggle:e=>{console.log("accordion item has been toggled"),console.log(e),e.schemaOpen=!e.schemaOpen},getTableStructure(){this.loading=!0,L().then(e=>{this.dataBeforeChanges=e,this.dataBeforeChanges.forEach(t=>{const l=this.checkIfBase(t.id);console.log("isBase",l),t.delete=l}),this.loading=!1})},goToTable(e){this.$router.push({name:"Table",params:{id:e}})},setTableColsFromSchema(e){return Object.keys(e[0])},async getMermaidData(e){try{const t=await S(e);this.diagramData=t,console.log("data",this.diagramData),this.renderMermaidDiagram(this.diagramData||t)}catch(t){console.log(t)}},async renderMermaidDiagram(e){try{T.initialize({graph:{useMaxWidth:{useMaxWidth:!1},width:1600,height:1600},theme:"base",securityLevel:"loose",startOnLoad:!1,arrowMarkerAbsolute:!1,themeVariables:{primaryBorderColor:"#41717A"}})}catch(t){console.log(t)}finally{T.render("mermaidC",e).then(({bindFunctions:t,svg:l})=>{console.log("svg",l),this.graph=l,t==null||t(this.graph)})}},startPan(e){e.button===0&&(this.isPanning=!0,this.panStartX=e.clientX,this.panStartY=e.clientY)},handlePan(e){if(this.isPanning){const t=e.clientX-this.panStartX,l=e.clientY-this.panStartY;this.panX+=t,this.panY+=l,this.panStartX=e.clientX,this.panStartY=e.clientY,this.updatePan()}},endPan(){this.isPanning=!1},handleZoom(e){e.ctrlKey&&e.deltaY<0&&e.buttons===0?(this.zoomLevel+=.01,this.updateZoom()):e.ctrlKey&&e.deltaY>0&&e.buttons===0&&(this.zoomLevel-=.01,this.updateZoom())},updatePan(){const e=document.getElementById("mcontain");e.style.transform=`translate(${this.panX}px, ${this.panY}px) scale(${this.zoomLevel})`},updateZoom(){const e=document.getElementById("mcontain");e.style.transform=`translate(${this.panX}px, ${this.panY}px) scale(${this.zoomLevel})`},onOpen(e){this.graph="",this.diagramData="",this.tables.forEach(t=>{t.id!==e.id?t.schemaOpen=!1:t.schemaOpen=!0}),console.log("accordion item has been shown"),console.log(e.id),e.schemaOpen=!0,this.getMermaidData(e.id),this.$nextTick(()=>{this.$refs.accordion.scrollIntoView({behavior:"smooth",block:"start"})}),this.dialog=!0,this.name=e.name},onClose(e){console.log("accordion item has been hidden"),console.log(e),e.schemaOpen=!1},close(){this.dialog=!1,this.graph="",this.diagramData="",this.tables.forEach(e=>{e.schemaOpen=!1})}},components:{JsonModal:D,HotTable:Y},mounted(){this.getTableStructure();const e=this.tables;e.forEach(t=>{t.schemaOpen=!1}),this.tables=e},watch:{searchResults:function(){this.key+=1},page:{handler:function(e){this.meta.page=e,this.getTable()},deep:!0},page_size:{handler:function(e){this.meta.page_size=e,this.getTable()},deep:!0},total_pages:{handler:function(e){this.meta.total_pages=e,this.getTable()},deep:!0}}},X={class:"max-w-screen min-w-screen"},J={key:2,class:"z-50 fixed inset-0 overflow-scroll"},K={class:"z-50 mx-auto w-full"},G={class:"min-h-full items-center justify-between bg-rock-blue-200 text-pickled-800 dark:text-white dark:bg-pickled-900 px-4 rounded-t-2xl py-2 border-b-2 border-gray-700 dark:border-rock-blue-700"},Q=s("svg",{class:"h-6 w-6 fill-current text-gray-500 hover:text-gray-200",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},[s("path",{d:"M8.707 8l3.647-3.646a.5.5 0 10-.708-.708L8 7.293 4.354 3.646a.5.5 0 00-.708.708L7.293 8l-3.647 3.646a.5.5 0 10.708.708L8 8.707l3.646 3.647a.5.5 0 10.708-.708L8.707 8z"})],-1),ee=[Q],te={class:"text-lg font-semibold dark:text-gray-200 mt-10 ml-5"},se=["innerHTML"];function oe(e,t,l,d,r,o){const a=g("hot-table"),c=g("JsonModal");return i(),u("div",X,[r.noData?p("",!0):(i(),f(a,{key:r.key,ref:"hotTableComponent",id:"data-sheet","data-theme":"dark",settings:o.hotSettings,class:"hansontable m-5 table-width-less-aside"},null,8,["settings"])),r.showModal?(i(),f(c,{key:1,json:r.json,isActive:r.showModal,title:r.title,onClose:t[0]||(t[0]=h=>r.showModal=!1),class:"z-50 fixed inset-0 overflow-scroll"},null,8,["json","isActive","title"])):p("",!0),e.dialog?(i(),u("div",J,[s("div",K,[s("div",G,[s("button",{class:"text-gray-400 hover:text-gray-200 focus:outline-rock-blue-100 absolute top-0 right-0 mt-4 mr-4 mb-10 z-60",onClick:t[1]||(t[1]=(...h)=>o.close&&o.close(...h))},ee),s("h2",te," Schema Relations: "+b(r.title),1),s("div",{innerHTML:o.svg,class:"mt-24 mx-10 mb-10",onWheel:t[2]||(t[2]=h=>o.handleZoom(h)),onClick:t[3]||(t[3]=h=>o.handleZoom(h)),id:"mcontain"},null,40,se)])])])):p("",!0)])}const re=C(U,[["render",oe]]);const le={components:{HansonTable:re,draggable:W},computed:{encodedForALL(){return""},encodedForNone(){return`queryType=condition^%${this.tableName}.deleted_at=null^%${this.tableName}.archived_at=null`},encodedToHideDeleted(){return`queryType=condition^%${this.tableName}.deleted_at=null`},encodedToHideArchived(){return`queryType=condition^%${this.tableName}.archived_at=null`},encodedToShowDeleted(){return`queryType=condition^%${this.tableName}.deleted_at!=null`},encodedToShowArchived(){return`queryType=condition^%${this.tableName}.archived_at!=null`},showAll(){return this.showDeleted&&this.showArchived},showNone(){return!this.showDeleted&&!this.showArchived},upperCaseTableName(){return this.tableName.toUpperCase()},titleCase(){return e=>e.toLowerCase().split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")},requestSchema(){let e=[];return this.columns.forEach(t=>{if(t.checked){let l={};l.name=t.name,l.field=this.tableStructure.name+"."+t.name,e.push(l)}}),e},processedColumns(){let e=[];return this.columns.forEach(t=>{t.checked&&e.push(t)}),e},isBase(){return this.checkIfBase(this.table)},table(){return this.$route.params.id},items(){return[{name:"Home",route:"/",label:"Home",order:1},{name:"Tables",route:"/tables",label:"Tables",order:2}]}},data(){return{noData:!1,tableStructure:{},toggleActions:!1,toggleColumns:!1,columns:[],isBaseTable:!1,encoded:"",script:"",searchTerm:"",tableName:"",showDeleted:!0,showArchived:!0,key:0}},methods:{createTablesForm(){this.$router.push({name:"CreateTable"})},logout(){Z().$patch({token:null,isLoggedIn:!1}),this.$router.push({name:"Login"})},selectAllColumns(){this.columns.forEach(e=>{e.checked=!0})},unselectAll(){this.columns.forEach(e=>{e.checked=!1})},uncheckSelectAllButton(){let e=!0;this.columns.forEach(t=>{t.checked||(e=!1)}),e?this.$refs.selectAll.checked=!0:this.$refs.selectAll.checked=!1},closeActionsMenu(){this.toggleActions=!1},closeColumnsMenu(){this.toggleColumns=!1},getTableStructure(){this.loading=!0,L().then(e=>{this.tables=e,this.loading=!1,this.tables.length===0&&(this.noData=!0)})}},mounted(){R().getTables(),this.getTableStructure()}},ae=s("div",{class:"hidden sm:dark:block absolute left-1/2 -translate-x-1/2 -mt-36 blur-2xl opacity-30 pointer-events-none z-3 w-screen overflow-hidden","aria-hidden":"true"},[s("img",{src:O,class:"max-w-none",width:"1440",height:"450",alt:"Page Illustration"})],-1),ne={class:"pl-5 w-full max-w-xl flex px-5 py-5","aria-label":"Breadcrumb"},ie={class:"inline-flex items-center space-x-1 md:space-x-3"},de=s("svg",{"aria-hidden":"true",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1),ce=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-chevron-right w-4 h-4"},[s("polyline",{points:"9 18 15 12 9 6"})],-1),he={class:"dark:text-pickled-400 text-xl mb-2 mt-0 pl-5"},ue={key:0,id:"table-search",class:"flex justify-start pt-2 overflow-x-scroll sm:overflow-x-visible"},me={class:"flex"},pe=s("label",{for:"table-search",class:"sr-only"},"Search",-1),be=s("div",{class:"z-10 left-0 flex items-center pl-1 pointer-events-none translate-x-8"},[s("svg",{class:"w-4 h-4 text-pickled-500 dark:text-pickled-400","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M 5 4 L 5 6.34375 L 5.21875 6.625 L 13 16.34375 L 13 28 L 14.59375 26.8125 L 18.59375 23.8125 L 19 23.5 L 19 16.34375 L 26.78125 6.625 L 27 6.34375 L 27 4 Z M 7.28125 6 L 24.71875 6 L 17.53125 15 L 14.46875 15 Z M 15 17 L 17 17 L 17 22.5 L 15 24 Z"})])],-1),ge=["disabled"],fe=s("svg",{viewBox:"0 0 20 20","enable-background":"new 0 0 20 20",class:"w-5 h-5 inline-block"},[s("path",{fill:"#FFFFFF",d:`M16,10c0,0.553-0.048,1-0.601,1H11v4.399C11,15.951,10.553,16,10,16c-0.553,0-1-0.049-1-0.601V11H4.601
                        C4.049,11,4,10.553,4,10c0-0.553,0.049-1,0.601-1H9V4.601C9,4.048,9.447,4,10,4c0.553,0,1,0.048,1,0.601V9h4.399
                        C15.952,9,16,9.447,16,10z`})],-1),ke=[fe],we=s("button",{class:"w-10 h-10 mt-0.5 ml-3 aspect-square rounded active:shadow-lg dark:hover:bg-pickled-900 mouse shadow transition ease-in duration-200 focus:outline-none border border-pickled-300 dark:border-pickled-600"},[s("svg",{class:"w-5 h-5 inline-block",fill:"currentColor",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M 5 4 L 5 6.34375 L 5.21875 6.625 L 13 16.34375 L 13 28 L 14.59375 26.8125 L 18.59375 23.8125 L 19 23.5 L 19 16.34375 L 26.78125 6.625 L 27 6.34375 L 27 4 Z M 7.28125 6 L 24.71875 6 L 17.53125 15 L 14.46875 15 Z M 15 17 L 17 17 L 17 22.5 L 15 24 Z"})])],-1),xe={key:1,id:"optionsColumnsMobile",class:"z-30 bg-white divide-y divide-pickled-100 rounded-lg shadow ml-5 w-11/12 dark:bg-pickled-800 dark:divide-pickled-600 absolute mt-2 sm:hidden"},ye={class:"py-1 text-sm text-pickled-700 dark:text-pickled-200","aria-labelledby":"dropdownActionButton"},ve={class:"flex justify-between px-4 py-1 hover:bg-pickled-100 border-b border-rock-blue-300 dark:border-rock-blue-800 dark:hover:bg-pickled-600 dark:hover:text-white"},Te=M(`<li class="flex justify-between px-4 py-1 hover:bg-pickled-100 border-b border-rock-blue-300 dark:border-rock-blue-800 dark:hover:bg-pickled-600 dark:hover:text-white"><svg class="w-4 my-1 h-4 text-pickled-500" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 -960 960 960" width="16"><path class="fill-current" d="M360-160q-33 0-56.5-23.5T280-240q0-33 23.5-56.5T360-320q33 0 56.5 23.5T440-240q0 33-23.5 56.5T360-160Zm240 0q-33 0-56.5-23.5T520-240q0-33 23.5-56.5T600-320q33 0 56.5 23.5T680-240q0 33-23.5 56.5T600-160ZM360-400q-33 0-56.5-23.5T280-480q0-33 23.5-56.5T360-560q33 0 56.5 23.5T440-480q0 33-23.5 56.5T360-400Zm240 0q-33 0-56.5-23.5T520
            -480q0-33 23.5-56.5T600-560q33 0 56.5 23.5T680-480q0 33-23.5 56.5T600-400ZM360-640q-33 0-56.5-23.5T280-720q0-33 23.5-56.5T360-800q33 0 56.5 23.5T440-720q0 33-23.5 56.5T360-640Zm240 0q-33 0-56.5-23.5T520-720q0-33 23.5-56.5T600-800q33 0 56.5 23.5T680-720q0 33-23.5 56.5T600-640Z"></path></svg><p class="flex-auto pl-2">id</p><input type="checkbox" class="form-checkbox h-5 w-5 text-pickled-600" disabled checked></li>`,1),_e={class:"item flex justify-between px-4 py-1 hover:bg-pickled-100 border-b border-rock-blue-300 dark:border-rock-blue-800 dark:hover:bg-pickled-600 dark:hover:text-white"},Ce=s("svg",{class:"handle cursor-move w-4 my-1 h-4 text-pickled-500",xmlns:"http://www.w3.org/2000/svg",height:"16",viewBox:"0 -960 960 960",width:"16"},[s("path",{class:"fill-current",d:"M360-160q-33 0-56.5-23.5T280-240q0-33 23.5-56.5T360-320q33 0 56.5 23.5T440-240q0 33-23.5 56.5T360-160Zm240 0q-33 0-56.5-23.5T520-240q0-33 23.5-56.5T600-320q33 0 56.5 23.5T680-240q0 33-23.5 56.5T600-160ZM360-400q-33 0-56.5-23.5T280-480q0-33 23.5-56.5T360-560q33 0 56.5 23.5T440-480q0 33-23.5 56.5T360-400Zm240 0q-33 0-56.5-23.5T520-480q0-33 23.5-56.5T600-560q33 0 56.5 23.5T680-480q0 33-23.5 56.5T600-400ZM360-640q-33 0-56.5-23.5T280-720q0-33 23.5-56.5T360-800q33 0 56.5 23.5T440-720q0 33-23.5 56.5T360-640Zm240 0q-33 0-56.5-23.5T520-720q0-33 23.5-56.5T600-800q33 0 56.5 23.5T680-720q0 33-23.5 56.5T600-640Z"})],-1),Le={class:"flex-auto pl-2",href:"#"},Me=["onUpdate:modelValue"],qe={key:2,id:"mobileActionsModal",class:"z-30 bg-white divide-y divide-pickled-100 rounded-lg shadow ml-5 w-11/12 dark:bg-pickled-800 dark:divide-pickled-600 absolute mt-2 sm:hidden"},Be={class:"py-1 text-sm text-pickled-700 dark:text-pickled-200","aria-labelledby":"dropdownActionButton"},Ae=M('<li class="flex justify-between px-4 py-1 hover:bg-pickled-100 border-b border-rock-blue-300 dark:border-rock-blue-800 dark:hover:bg-pickled-600 dark:hover:text-white"><a href="#">Delete</a><svg class="w-4 my-1 h-4 text-pickled-500" aria-hidden="true" fill="currentColor" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M 6 4 L 6 6 L 26 6 L 26 4 Z M 8 8 L 8 26 L 24 26 L 24 8 Z M 10 10 L 22 10 L 22 24 L 10 24 Z M 12 12 L 12 22 L 20 22 L 20 12 Z M 14 14 L 18 14 L 18 20 L 14 20 Z"></path></svg></li><li class="flex justify-between px-4 py-1 hover:bg-pickled-100 border-b border-rock-blue-300 dark:border-rock-blue-800 dark:hover:bg-pickled-600 dark:hover:text-white"><a href="#">Archive</a><svg class="w-4 my-1 h-4 text-pickled-500" aria-hidden="true" fill="currentColor" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M 6 4 L 6 6 L 26 6 L 26 4 Z M 8 8 L 8 26 L 24 26 L 24 8 Z M 10 10 L 22 10 L 22 24 L 10 24 Z M 12 12 L 12 22 L 20 22 L 20 12 Z M 14 14 L 18 14 L 18 20 L 14 20 Z"></path></svg></li>',2),Se={class:"flex justify-between px-4 py-1 hover:bg-pickled-100 dark:hover:bg-pickled-600 dark:hover:text-white"},De=s("a",{href:"#"},"Copy IDs",-1),ze=s("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},null,-1),Ze=s("rect",{x:"8",y:"2",width:"7",height:"4",å:"",rx:"1",ry:"1"},null,-1),Re=[ze,Ze],je=s("div",{class:"hidden sm:dark:block absolute left-1/2 -translate-x-1/2 -mt-36 blur-2xl opacity-30 pointer-events-none z-3 w-screen overflow-hidden","aria-hidden":"true"},[s("img",{src:F,class:"max-w-none w-full",width:"1440",height:"427",alt:"Page Illustration 02"})],-1);function Ne(e,t,l,d,r,o){const a=g("router-link"),c=g("draggable"),h=g("HansonTable");return i(),u("div",null,[ae,s("nav",ne,[s("ol",ie,[(i(!0),u(j,null,N(o.items,n=>(i(),u("li",{class:"inline-flex items-center",key:n.order},[n.name==="Home"?(i(),f(a,{key:0,to:n.route,class:"inline-flex items-center text-sm font-medium text-pickled-700 hover:text-rock-blue-600 dark:text-pickled-400 dark:hover:text-rock-blue-50"},{default:x(()=>[de,w(" "+b(n.label),1)]),_:2},1032,["to"])):(i(),f(a,{key:1,to:n.route,class:"inline-flex items-center text-sm font-medium text-pickled-700 hover:text-rock-blue-600 dark:text-pickled-400 dark:hover:text-rock-blue-50"},{default:x(()=>[ce,w(" "+b(n.label),1)]),_:2},1032,["to"]))]))),128))])]),s("h1",he,b(o.titleCase("Tables")),1),r.noData?p("",!0):(i(),u("div",ue,[s("div",me,[pe,be,v(s("input",{onUpdate:t[0]||(t[0]=n=>r.key++),type:"text","onUpdate:modelValue":t[1]||(t[1]=n=>r.searchTerm=n),id:"table-search-users",class:"block p-0 pl-10 text-xs text-pickled-900 border border-pickled-300 rounded-lg w-40 md:w-70 lg:w-80 bg-pickled-50 focus:ring-rock-blue-500 focus:border-rock-blue-500 dark:bg-pickled-700 dark:border-pickled-600 dark:placeholder-pickled-400 dark:text-white dark:focus:ring-rock-blue-500 dark:focus:border-rock-blue-500",placeholder:"Filter by term"},null,544),[[H,r.searchTerm]])]),s("button",{disabled:r.isBaseTable,class:E([r.isBaseTable?"cursor-not-allowed":"","p-0 w-10 h-10 mt-0.5 ml-3 aspect-square bg-rock-blue-700 rounded hover:bg-rock-blue-600 active:shadow-lg mouse shadow transition ease-in duration-200 focus:outline-none"]),style:V(r.isBaseTable?"opacity: 0.3":""),onClick:t[2]||(t[2]=n=>o.createTablesForm())},ke,14,ge),we])),r.toggleColumns?(i(),u("div",xe,[s("ul",ye,[s("li",ve,[w(" Select All "),s("input",{ref:"selectAll",type:"checkbox",onChange:t[3]||(t[3]=(...n)=>o.selectAllColumns&&o.selectAllColumns(...n)),class:"form-checkbox h-5 w-5 text-pickled-600"},null,544)]),Te,I(c,{modelValue:r.columns,"onUpdate:modelValue":t[5]||(t[5]=n=>r.columns=n),onStart:t[6]||(t[6]=n=>e.drag=!0),onEnd:t[7]||(t[7]=n=>e.drag=!1),"item-key":"id",handle:".handle","ghost-class":"ghost"},{item:x(({element:n})=>[s("li",_e,[Ce,s("a",Le,b(n.name),1),v(s("input",{"onUpdate:modelValue":k=>n.checked=k,onChange:t[4]||(t[4]=(...k)=>o.uncheckSelectAllButton&&o.uncheckSelectAllButton(...k)),type:"checkbox",class:"form-checkbox h-5 w-5 text-pickled-600",checked:""},null,40,Me),[[$,n.checked]])])]),_:1},8,["modelValue"])])])):p("",!0),r.toggleActions?(i(),u("div",qe,[s("ul",Be,[Ae,s("li",Se,[De,(i(),u("svg",{onClick:t[8]||(t[8]=n=>e.copyToClipboard(o.table.id)),"aria-hidden":"true",class:"w-4 my-1 h-4 text-pickled-500",fill:"none",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Re))])])])):p("",!0),(i(),f(h,{columns:r.columns,table_id:e.id,key:r.key,search:r.searchTerm},null,8,["columns","table_id","search"])),je])}const Fe=C(le,[["render",Ne]]);export{Fe as default};
